---
category: shader
tags: [U3D, Shader,Cookbook,中文版]

---

## 在地形的表面绘制一个圆

在很多的RTS类型的游戏中，通过围绕被选中的单位绘制一个圆圈来表示距离（攻击范围，可移动距离，视野等等）。如果地面是平坦的，那么可以用通过对一张绘制有圆圈的矩形纹理进行缩放就能简单的做到。但是如果地面并不平坦，那么这个矩形的纹理就很有可能被高出的山丘或者其他几何物体遮住。接下来的知识点将展示如何编写一个着色器，让你可以在任何复杂的物体表面绘制一个圆圈[且不会被遮住]。如果你想对这个圆圈移动或者执行动画，那么我们就需要有着色器和C#代码才行。下图展示了用着色器在一个丘陵地形中绘制一个圆圈的例子：

<div align="center"><img src="https://linkliu.github.io/game-tech-post/assets/img/shader_book/diagram27.png"/></div>

***




- **始前准备**

  这里的着色器主要是用于地形的，对于其他的游戏对象不适用。所以我们首先要做的是在Unity中创建好一个地形。
  
  1. 我们先分别建立一个着色器和材质，名字分别是**RadiusShader**和**RadiusMaterial**。
  2. 当你的角色物体准备好后；我们会绕着它绘制一个圆圈。
  3. 在Unity的菜单[这里的菜单操作我就不翻译了，翻译了感觉反而不好，怕翻译错了，大家找不到]，选择**GameObject|3D Object|Terrain**来创建一个新的地形。
  4. 为地形创建一些几何面。
  5. 待译
  6. 待译
